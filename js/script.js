parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"mpVp":[function(require,module,exports) {
function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=function(){function t(n){var i=n.fieldKey;e(this,t),this.fieldKey=i,this.tagsToRemove=[".field-visibility-settings-notoggle",".field-visibility-settings-toggle",".field-visibility-settings"],this.blogDetails=null}return n(t,[{key:"onFormSubmit",value:function(e){var t=this,n=e.srcElement?Object.values(e.srcElement):[],i="";n.forEach(function(n){if("signup_email"!==n.name&&"privacy_policy_email"!==n.name||(i=n.value),t.fieldKey===n.name){var o=e.srcElement.querySelector('[name="'+n.name+'"]');null!==o&&(o.value=i)}})}},{key:"toggleBlogForm",value:function(e){!0===e.target.checked?this.blogDetails.style.display="block":this.blogDetails.style.display="none"}},{key:"customizeSignUp",value:function(){var e=document.querySelector("#buddypress"),t=document.querySelector('form[name="signup_form"]'),n=null!==t?t.querySelector('[name="signup_submit"]'):null,i=null!==t?t.querySelector("#template-notices"):null,o=null!==t?t.querySelector(".privacy-policy-accept"):null,l=document.querySelector('#register-page form[name="signup_form"] .layout-wrap'),r=document.querySelector("#blog-details"),u=document.querySelector('[name="signup_with_blog"]'),a=this.tagsToRemove.slice(0,3);if(null!==t){var s=document.createElement("input");if(s.setAttribute("type","hidden"),s.setAttribute("name",this.fieldKey),t.appendChild(s),t.addEventListener("submit",this.onFormSubmit.bind(this)),null!==i&&i.remove(),null!==l){var c=document.querySelector("#register-page aside.bp-feedback");null!==c&&l.prepend(c)}e&&!e.classList.contains("buddypress-wrap")&&this.tagsToRemove.push("#signup_password","#pass-strength-result",'label[for="signup_password_confirm"]',"#signup_password_confirm"),this.tagsToRemove.forEach(function(e){var n=t.querySelectorAll(e);n.length&&(-1===a.indexOf(e)?n[0].remove():n.forEach(function(e){e.remove()}))}),null!==r&&null!==u&&(this.blogDetails=r,u.getAttribute("checked")||(this.blogDetails.style.display="none"),u.addEventListener("click",this.toggleBlogForm.bind(this))),null!==o&&(t.insertBefore(o,n.parentNode),o.classList.add("register-section"),o.style.marginTop="1.5em"),null!==n&&(n.setAttribute("id","wp-submit"),n.classList.add("button","button-primary","button-large"))}}},{key:"customizeSignupConfirmation",value:function(){var e=document.querySelector("aside.bp-feedback"),t=document.querySelector('#register-page form[name="signup_form"] .layout-wrap'),n=document.querySelectorAll('form[name="signup_form"] #template-notices');null!==e&&null!==t&&t.prepend(e),null!==n&&2===n.length&&(n[0].remove(),n[1].removeAttribute("id"),n[1].removeAttribute("role"),n[1].removeAttribute("aria-atomic"),n[1].classList.add("register-section"))}},{key:"customizeSignupActivation",value:function(){var e=document.querySelector("#activate-page"),t=document.querySelector("aside.bp-feedback"),n=document.querySelector("#activation-form"),i=document.querySelector("body.bp-nouveau .activation-result.successful a"),o=null!==n?n.querySelector('#activate [name="submit"]'):null;if(null!==o&&o.classList.add("button","button-primary","button-large"),null!==i&&i.classList.add("button","button-primary","button-large"),null!==e&&null!==n)for(var l in e.children)1===e.children[l].nodeType&&"activation-form"!==e.children[l].getAttribute("id")&&"template-notices"!==e.children[l].getAttribute("id")&&e.children[l]!==t&&n.prepend(e.children[l])}},{key:"start",value:function(){var e=document.querySelector("#register"),t=document.querySelector("#activate-page");this.fieldKey?this.customizeSignUp():null!==e&&e.classList.contains("completed-confirmation")?this.customizeSignupConfirmation():null!==t&&this.customizeSignupActivation()}}]),t}(),o=window.communauteProtegee&&window.communauteProtegee.settings?communauteProtegee.settings:{},l=new i(o);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l.start()):l.start();
},{}]},{},["mpVp"], null)
//# sourceMappingURL=/script.js.map